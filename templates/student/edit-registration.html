<!DOCTYPE html>
<html lang="en">

    {% load static %}
<!-- Mirrored from coderthemes.com/hyper/saas/pages-register-2.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Mar 2021 05:16:55 GMT -->
<head>
        <meta charset="utf-8" />
        <title>S P S</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description" />
        <meta content="Coderthemes" name="author" />
        <!-- App favicon -->
        <link rel="shortcut icon" href="{% static 'assets/images/favicon.ico' %}">

        <!-- App css -->
        <link href="{% static 'assets/css/icons.min.css' %}" rel="stylesheet" type="text/css" />
        <link href="{% static 'assets/css/app.min.css' %}" rel="stylesheet" type="text/css" id="light-style" />
        <link href="{% static 'assets/css/app-dark.min.css' %}" rel="stylesheet" type="text/css" id="dark-style" />

    </head>

    <body class="authentication-bg pb-0" data-layout-config='{"darkMode":false}'>

        <div class="auth-fluid">
            <!--Auth fluid left content -->
            <div class="auth-fluid-form-box">
                <div class="align-items-center d-flex h-100">
                    <div class="card-body">

                        <!-- Logo -->
                        <h2 class="mb-3">School of Practical Studies!</h2>


                        <h4 class="mt-0">SPS wants to you to re-submit the registration</h4>
                        
                        {% if messages %}
                        <ul>
                        {% for message in messages %}
                        <p class=" mb-4 text-red" style="color: red;">{{message}}</p>
                        {% endfor %}
                        </ul>
                        {% endif %}
                        <!-- form -->
                        
                        <form action="#">
                            <div class="form-group">
                                <label for="fullname">Full Name</label>
                                <input class="form-control" type="text" id="fullname" value="{{student.student.fullname}}" placeholder="Enter your name">
                                <span id="errorname" style="color: red; text-align: center;"></span>

                            </div>

                            <div class="form-group">
                                <label for="phone">Phone</label>
                                <input class="form-control" type="number" value="{{student.student.phone}}" id="phone" placeholder="Enter your Mobile Number">
                                <span id="errorphone" style="color: red; text-align: center;"></span>

                            </div>
                          
                            <!-- social-->
                          
                        </form>
                    </div>


                    </div> <!-- end .card-body -->
                </div> <!-- end .align-items-center.d-flex.h-100-->
            <div class="auth-fluid-form-box">
                <div class="align-items-center d-flex h-100">
                    <div class="card-body">

                        <form action="#">
                            <div class="form-group">
                                <label for="domain">Domain</label>
                                <input class="form-control" type="text" id="domain" placeholder="Enter your Domain" value="{{student.student.domain}}">
                                <span id="errordomain" style="color: red; text-align: center;"></span>

                            </div>
                            <div class="form-group">
                                <label for="dob">Date Of Birth</label>
                                <input class="form-control" type="date" id="dob" value="{{student.student.dob}}" placeholder="Enter your DOB">
                                <span id="errordob" style="color: red; text-align: center;"></span>

                            </div>
                            <div class="form-group">
                                <label for="age">Age</label>
                                <input class="form-control" type="number" value="{{student.student.age}}" id="age" placeholder="Enter your Age">
                                <span id="errorage" style="color: red; text-align: center;"></span>

                            </div>

                            <div class="form-group">
                                <label for="father">Father's Name</label>
                                <input class="form-control" type="text" id="father" value="{{student.student.father}}" placeholder="Enter your Father's name">
                                <span id="errorfather" style="color: red; text-align: center;"></span>

                            </div>
                            <div class="form-group">
                                <label for="mother">Mother's Name</label>
                                <input class="form-control" type="text" value="{{student.student.mother}}" id="mother" placeholder="Enter your Mother's name">
                                <span id="errormother" style="color: red; text-align: center;"></span>

                            </div>
                          
                            <!-- social-->
                          
                        </form>

                    </div> <!-- end .card-body -->
                </div> <!-- end .align-items-center.d-flex.h-100-->
            </div>
            <div class="auth-fluid-form-box">
                
                <div class="align-items-center d-flex h-100">
                    <div class="card-body">

                        <!-- Logo -->
                       

                        <!-- title-->
                      
                        <!-- form -->
                        <form action="#">
                            <div class="form-group">
                                <label for="fullname">Address</label>
                                <input class="form-control" style="height: 5rem;" type="textarea" id="address" placeholder="Enter your Address" value="{{student.student.address}}">
                                <span id="erroraddress" style="color: red; text-align: center;"></span>

                            </div>
                            
                            <div class="form-group">
                                <label for="photo">Photo(Click to edit)</label>
                                <br>
                                <img class="rounded-circle" id="studentphoto" style="height: 5rem; width: 5rem;" src="{{student.student.student_photo}}" alt="">
                                <input type="file" name="inputprofileimage" id="inputprofileimage" hidden>
                                <span id="errorphoto" style="color: red; text-align: center;"></span>

                            </div>
                            <!-- social-->
                          
                        </form>
                        <!-- end form-->

                        <!-- Footer-->
                        <div class="form-group mb-0 text-center">
                            <button class="btn btn-primary btn-block" id="register" type="button"><i class="mdi mdi-login"></i> Register </button>
                        </div>

                    </div> <!-- end .card-body -->
                </div> <!-- end .align-items-center.d-flex.h-100-->
            </div>
            
           
        </div>
        <!-- end auth-fluid-->

        <!-- bundle -->
        <script src="{% static 'assets/js/vendor.min.js' %}"></script>
        <script src="{% static 'assets/js/app.min.js' %}"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous"></script>

        <script>
            $('#register').click(function(){
                var formData = new FormData();
                formData.append("fullname", document.getElementById("fullname").value);
                formData.append("phone", document.getElementById("phone").value);
                formData.append("domain", document.getElementById("domain").value);
                formData.append("age", document.getElementById("age").value);
                formData.append("dob", document.getElementById("dob").value);
                formData.append("address", document.getElementById("address").value);
                formData.append("father", document.getElementById("father").value);
                formData.append("mother", document.getElementById("mother").value);
                formData.append("inputprofileimage", document.getElementById("inputprofileimage").files[0]);
                formData.append('csrfmiddlewaretoken', '{{ csrf_token }}')
                
                let error = false
                if(fullname.value == ''){
                    $('#errorname').html('Please enter the Name')
                    error = true
                }
                else{
                    $('#errorname').html('')
                }
                if (phone.value == ''){
                    $('#errorphone').html('Please enter proper phone number')
                    error = true
                }
                else{
                    $('#errorphone').html('')
                }
                if (domain.value == ''){
                    $('#errordomain').html('Domain required')
                    error = true
                }
                else{
                    $('#errordomain').html('')
                }
                if(age.value == ''){
                    $('#errorage').html('Age required')
                    error = true
                }
                else{
                    $('#errorage').html('')
                }
                if(dob.value == ''){
                    $("#errordob").html('DOB required')
                    error = true
                }
                else{
                    $('#errordob').html('')
                }
                if(address.value == ''){
                    $('#erroraddress').html('Address required')
                    error = true
                }
                else{
                    $('#erroraddress').html('')
                }
                if(father.value == '')
                {
                    $('#errorfather').html('Father name required')
                    error = true
                }
                else{
                    $('#errorfather').html('')
                }
                if(mother.value == ''){
                    $('#errormother').html('Mother name required')
                    error = true
                }
                else{
                    $('#errormother').html('')
                }
                if(!error){
                    $.ajax({
                        url : '/edit-registration/{{student.student_uuid}}/',
                        method : 'POST',
                        data : formData,
                        cache : false,
                        contentType : false,
                        processData : false,
                        dataType : 'json',
                        success : function(data){
                            if (data == 'true'){
                                window.location.replace('/verify-email/')
                            }
                            if (data == 'false'){
                                $('#error').html('Invalid Credentials')
                            }
                            if(data == 'phone'){
                                $('#errorphone').html('Mobile Number already exists')
                            }
                        }
                    })
                }
                })

                
$('#studentphoto').click(function(){
    $('#inputprofileimage').click()
    function readURL(input) {
    if (input.files && input.files[0]) {
        var reader = new FileReader();
        
        reader.onload = function(e) {
        $('#studentphoto').attr('src', e.target.result);
        }
        
        reader.readAsDataURL(input.files[0]); // convert to base64 string
    }
}

$("#inputprofileimage").change(function() {
    readURL(this);
});

  })
        </script>
    </body>



<!-- Mirrored from coderthemes.com/hyper/saas/pages-register-2.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 16 Mar 2021 05:16:55 GMT -->
</html>